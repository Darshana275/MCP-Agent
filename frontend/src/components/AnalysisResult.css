/* Custom Variables for Theming */
:root {
  --color-primary: #007bff;   /* Main accent blue */
  --color-dark: #212529;      /* Heading/Text color */
  --color-light-bg: #ffffff;  /* Card background */
  --color-secondary-bg: #f5f7fa; /* Section background (subtle grey) */
  --color-border: #e9ecef;    /* Light border color */
  --color-low: #28a745;       /* Green */
  --color-medium: #ffc107;    /* Yellow/Orange */
  --color-high: #dc3545;      /* Red */
}

/* General styling */
.analysis-container {
  /* Removed font-family to inherit from App.css for consistency */
  padding: 25px; 
  background-color: var(--color-light-bg);
  border-radius: 12px; /* Smoother edges */
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1); /* Deeper shadow */
  margin-top: 30px; /* Space from the input form */
}

.title {
  font-size: 2.2rem; /* Slightly larger */
  font-weight: 700;
  color: var(--color-dark);
  margin-bottom: 1.5rem;
  border-bottom: 2px solid var(--color-border);
  padding-bottom: 10px;
}

.section-title {
  display: flex;
  align-items: center;
  gap: 10px; /* Increased gap */
  font-size: 1.6rem; 
  font-weight: 600;
  color: var(--color-dark);
  margin-top: 2rem;
  margin-bottom: 1rem;
}

/* Overall Risk Banner (More prominent) */
.overall-risk-assessment p {
  font-size: 1.1rem;
  padding: 15px;
  border-radius: 8px;
  background-color: var(--color-secondary-bg);
  border: 1px solid var(--color-border);
}

.overall-risk {
  font-weight: 700;
  text-transform: uppercase;
  padding: 3px 8px;
  border-radius: 4px;
}

.overall-risk.low {
  color: #fff;
  background-color: var(--color-low);
}

.overall-risk.medium {
  color: var(--color-dark);
  background-color: var(--color-medium);
}

.overall-risk.high {
  color: #fff;
  background-color: var(--color-high);
}

/* Risk Table: Cleaner, striped, and highlighted */
.risk-table {
  width: 100%;
  border-collapse: separate; /* Use separate for rounded corners on the header */
  border-spacing: 0;
  margin-top: 1rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  border-radius: 8px;
  overflow: hidden; /* Ensures table corners are respected */
}

.risk-table th {
  background-color: var(--color-primary);
  color: white;
  padding: 12px 15px;
  text-align: left;
  font-weight: 600;
}

.risk-table td {
  padding: 12px 15px;
  text-align: left;
  border-bottom: 1px solid var(--color-border);
  background-color: #fff;
}

/* Subtle striping for readability */
.risk-table tbody tr:nth-child(even) td {
  background-color: #fcfcfc;
}

.risk-table tbody tr:hover td {
  background-color: #f0f8ff; /* Light blue highlight on hover */
  cursor: default;
}

/* Risk Level Tags in the Table */
.risk-level {
  font-weight: 700;
  padding: 3px 6px;
  border-radius: 4px;
  display: inline-block;
  font-size: 0.9rem;
}

.risk-level.low {
  background-color: #e6f7d9;
  color: var(--color-low);
}

.risk-level.medium {
  background-color: #fffbe6;
  color: var(--color-medium);
}

.risk-level.high {
  background-color: #fde6e8;
  color: var(--color-high);
}

/* Action cards: More distinct visual separation */
.actions-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* Responsive grid */
  gap: 20px;
  margin-top: 15px;
}

.action-card {
  background: var(--color-light-bg);
  border-radius: 10px;
  padding: 15px 20px;
  border-left: 6px solid var(--color-primary); /* Use primary as default */
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08); /* Stronger shadow */
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.action-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.12);
}

/* Type-specific colors for borders and backgrounds */
.action-card.alert {
  border-color: var(--color-high);
  background: #fffafa;
}

.action-card.block {
  border-color: var(--color-high);
  background: #fffafa;
}

.action-card.comment {
  border-color: var(--color-medium);
  background: #fffdf5;
}

.action-header {
  font-weight: 700;
  font-size: 1.1rem;
  color: var(--color-dark);
  margin-bottom: 8px;
}

.action-text {
  font-family: 'Consolas', 'Courier New', monospace; /* Enhanced monospaced font */
  font-size: 0.85rem;
  white-space: pre-wrap;
  word-wrap: break-word;
  background: var(--color-secondary-bg);
  padding: 10px;
  border-radius: 6px;
  border: 1px solid #e1e1e1;
  max-height: 180px; /* Slightly more space */
  overflow-y: auto;
}

.show-more-btn {
  /* Style as a clean link */
  border: none;
  background: none;
  color: var(--color-primary);
  cursor: pointer;
  font-size: 0.9rem;
  font-weight: 500;
  margin-top: 8px;
  padding: 0;
  text-decoration: none;
}

.show-more-btn:hover {
  text-decoration: underline;
  color: #0056b3;
}

/* AI Explanation Section */
.markdown {
  background: var(--color-secondary-bg); /* Use a subtle background */
  border-radius: 10px;
  padding: 20px;
  line-height: 1.7;
  color: var(--color-dark);
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05); /* Subtle inner shadow */
}

.markdown h2, .markdown h3 {
  margin-top: 1.5em;
  color: var(--color-dark);
  border-bottom: 1px dotted #ccc;
  padding-bottom: 5px;
}

.markdown ul {
  margin-left: 1.5rem;
  list-style-type: square; /* Different bullet style */
}

.markdown strong {
  color: var(--color-primary); /* Highlight key points with primary color */
  font-weight: 700;
}

.markdown em {
  color: #555;
  font-style: italic;
}

.markdown p {
  margin: 0.8em 0;
}

.explanation {
  max-height: 400px;
  overflow-y: auto;
  border: 1px solid var(--color-border);
  border-radius: 10px;
  padding: 0; /* Remove padding here, it's inside .markdown */
  background: transparent;
}

/* Added for the collapse feature */
.explanation.collapsed {
  max-height: 180px; /* Shorter height when collapsed */
  overflow: hidden;
  /* Creates a fade-out effect at the bottom when collapsed */
  mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
}

/* Spinner and AI controls remain functional */

.osv-list {
  list-style-type: none;
  padding-left: 0;
  margin-top: 1rem;
}

.osv-list li {
  margin-bottom: 0.7rem;
  padding-left: 1rem;
  position: relative;
}
.osv-list li::before {
  content: 'â†’';
  position: absolute;
  left: 0;
  color: var(--color-primary);
}

/* Loading Spinner for AI Explanation */
.explanation .markdown p {
  text-align: center;
  font-size: 1.2rem;
  color: var(--color-primary);
  font-weight: 600;
}